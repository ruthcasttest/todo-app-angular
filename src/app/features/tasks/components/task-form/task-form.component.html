<mat-card class="task-form-card">
    <mat-card-header>
        <mat-card-title>Nueva Tarea</mat-card-title>
    </mat-card-header>

    <mat-card-content>
        <form [formGroup]="taskForm" (ngSubmit)="onSubmit()">
            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Título</mat-label>
                <input
                    matInput
                    type="text"
                    formControlName="title"
                    placeholder="Ej: Completar informe"
                    maxlength="100"
                />
                @if (titleControl?.hasError("required") && titleControl?.touched) {
                    <mat-error>El título es requerido</mat-error>
                }
                @if (titleControl?.hasError("maxlength")) {
                    <mat-error>Máximo 100 caracteres</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width">
                <mat-label>Descripción</mat-label>
                <textarea
                    matInput
                    formControlName="description"
                    placeholder="Describe la tarea..."
                    rows="3"
                    maxlength="500"
                ></textarea>
                @if (descriptionControl?.hasError("required") && descriptionControl?.touched) {
                    <mat-error>La descripción es requerida</mat-error>
                }
                @if (descriptionControl?.hasError("maxlength")) {
                    <mat-error>Máximo 500 caracteres</mat-error>
                }
            </mat-form-field>

            <div class="actions">
                <button
                    mat-raised-button
                    color="primary"
                    type="submit"
                    [disabled]="taskForm.invalid"
                >
                    Agregar Tarea
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>
